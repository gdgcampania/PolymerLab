<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../login-screen/login-screen.html">
<link rel="import" href="../add-project-dialog/add-project-dialog.html">

<polymer-element name="timetracking-app" attributes="">
  <template>
    <link rel="stylesheet" href="timetracking-app.css">

    <core-animated-pages selected="{{selected}}" fit>
      <login-screen center fit layout vertical user="{{user}}"></login-screen>

      <core-header-panel>
        <div class="core-header">Hello {{ user.username }}</div>
        <div class="content">
          <h1>Demo page</h1>
        </div>
        <paper-fab id="add-project" icon="add" on-tap="{{showAddProjectDialog}}"></paper-fab>
      </core-header-panel>
    </core-animated-pages>

    <add-project-dialog id="add-project" on-project-added="{{projectAdded}}" />
  </template>
  <script>
    (function () {
      'use strict';

      Polymer({
        ready: function() {
        },
        observe: {
          'user': 'login'
        },
        login: function () {
          this.selected = 1;
        },
        showAddProjectDialog: function() {
          this.$['add-project'].toggle();
        },
        projectAdded: function(e) {
          alert('Added ' + e.detail.name);
        }
      });

    })();
  </script>
</polymer-element>
